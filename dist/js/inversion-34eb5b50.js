import"./main-8bf0303b.js";import{S as B,P as I}from"./pagination-fb35e2cf.js";const S=[[1,1,30,.5],[2,31,60,.75],[3,61,90,1.15],[4,91,120,1.7],[5,121,150,2.26],[6,151,180,2.82],[7,181,210,3.75],[8,211,240,3.93],[9,241,270,4.48],[10,271,300,5.04],[11,301,330,5.59],[12,331,365,7.46]],b=window.matchMedia("(min-width:768px) and (max-width:1279px)"),A=window.matchMedia("(min-width:768px)"),h=window.matchMedia("(max-width:767px)"),k=document.querySelector(".inverion-formulario--simulador"),E=document.querySelector(".inverion-formulario--salida");document.querySelectorAll(".conceptos .swiper-slide").length;let x,v;const F=function(){if(b.matches===!1){A.matches===!1?(console.log("movil"),document.querySelector(".conceptos-container-swiper").classList.add("no-slide"),v!==void 0&&v.destroy(!0,!0)):(console.log("d"),document.querySelector(".swiper-conceptos .swiper-wrapper").removeAttribute("style"),document.querySelector(".conceptos-container-swiper").classList.add("no-slide")),v!==void 0&&v.destroy(!0,!0);return}else if(b.matches===!0)return console.log("tablet"),document.querySelector(".conceptos-container-swiper").classList.remove("no-slide"),V()},D=()=>{if(h.matches===!0)return C();if(h.matches===!1){x!==void 0&&x.destroy(!0,!0);return}},C=()=>{x=new B(".swiper-beneficios",{modules:[I],spaceBetween:16,slidesPerView:"auto",direction:"horizontal",pagination:{el:".swiper-beneficios-pagination"}})},V=function(){v=new B(".swiper-conceptos",{modules:[I],spaceBetween:12,slidesPerView:"auto",direction:"horizontal",centerInsufficientSlides:!0,pagination:{el:".swiper-pagination"},breakpoints:{768:{spaceBetween:24},1280:{allowTouchMove:!1}}})},U=()=>{const e=document.querySelectorAll(".conceptos .swiper-slide"),t=document.querySelectorAll(".conceptos .conceptos__image");document.querySelector(".swiper-conceptos").classList.add("conceptos"+e.length),e.forEach((o,r)=>{o.id="card"+r}),t.forEach((o,r)=>{o.id="imagen"+r})};h.addListener(D);b.addListener(F);D();F();U();const f=document.querySelector(".error-inversion"),w=document.querySelector(".error-tiempo"),l=document.querySelector("#btn-inversion button"),q=document.getElementById("tiempo");let j=document.querySelectorAll(".custom-option"),d=document.getElementById("mi-inversion"),g=document.querySelector(".error-inversion .mensaje"),M=document.querySelector(".error-tiempo .mensaje"),m=0,H=/^[0-9$,.]+$/;d.addEventListener("input",e=>{f.classList.add("d-none"),d.classList.remove("aprobado"),d.classList.remove("error"),e.target.value.length<1||isNaN(e.target.value.length)?(d.classList.add("error"),f.classList.remove("d-none"),g.innerText="Debes ingresar un monto para calcular",l.disabled=!0):H.test(e.target.value)?(m=parseFloat(e.target.value.replace("$","").replace(",","")),m<=0?(d.classList.add("error"),f.classList.remove("d-none"),g.innerText="Debes ingresar un monto para calcular",l.disabled=!0):m<1e3?(d.classList.add("error"),f.classList.remove("d-none"),g.innerText="Monto mínimo a partir de $1,000",l.disabled=!0):(d.classList.remove("error"),d.classList.add("aprobado"),l.disabled=!1)):(d.classList.add("error"),f.classList.remove("d-none"),g.innerText="Solo se permiten números",l.disabled=!0);let o=e.target.value.replace(/[^0-9]/g,"");o=o.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),o="$"+o,e.target.value=o});j.forEach(e=>{e.addEventListener("click",()=>{e.dataset.value!=""?(w.classList.add("d-none"),l.disabled=!1):(w.classList.remove("d-none"),M.innerText="Selecciona un plazo",l.disabled=!0)})});l.addEventListener("click",e=>{e.preventDefault();let t=document.querySelector(".custom-select-trigger-text").innerText;m=parseFloat(document.querySelector("#mi-inversion").value.replace("$","").replace(",","")),m<=0||isNaN(m)?(f.classList.remove("d-none"),g.innerText="Debes ingresar un monto para calcular"):m<1e3?(d.classList.add("error"),f.classList.remove("d-none"),g.innerText="Monto mínimo a partir de $1,000",l.disabled=!0):q.value==""||t=="Seleccionar"?(w.classList.remove("d-none"),M.innerText="Selecciona un plazo",l.disabled=!0):(w.classList.add("d-none"),R(m,q.value))});function R(e,t){l.innerText="Volver a calcular",t=parseInt(t);const r=S.filter(y=>y[0]==t)[0];let c=r[2],n=parseFloat(r[3]/100),a=0,s=0,u=0,p=.15,i=189222,_=4,N=-.12,L=0;if(a=e*(n/360)*c,s=e+a-u,t==12){let y=G(),T=J(y),$=K(S,T,e,i,p);L=O(S,T,e,i,p)-$}z(s,t,L,n,u,_,N)}function z(e,t,o,r,c,n,a){let s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});document.getElementById("entrada-plazo").innerText=t+(t==1?" mes":" meses"),document.getElementById("salida-montoFinal").innerText=s.format(e.toFixed(2)),document.getElementById("detalle-plazo").innerText=t+(t==1?" mes":" meses"),document.getElementById("detalle-montoFinal").innerText=s.format(e.toFixed(2)),document.getElementById("premio").innerText=s.format(o.toFixed(2)),document.getElementById("isr").innerText=s.format(c.toFixed(2)),document.getElementById("detalle-tasa").innerText=(r*100).toFixed(2)+" %",document.getElementById("gat-nominal").innerText=n.toFixed(2)+" %",document.getElementById("gat-real").innerText=a+" %",k.classList.add("resultados"),document.querySelector(".inverion-formulario--entrada").classList.add("resultados","show"),document.querySelector(".inverion-formulario--salida").classList.add("resultados"),E.classList.remove("hide"),E.classList.add("show")}function G(){let e=new Date,t=[];for(let o=1;o<=12;o++)t.push(e.setMonth(e.getMonth()+1));return t}function J(e=[]){let t=new Date,o=[],r=0;return e.forEach((c,n)=>{const a=new Date(e[n]);r=a-t;let s=r/(1e3*60*60*24);o.push(s),t=a}),o}function P(e,t,o,r,c){let n=parseFloat(t/100),a=parseFloat(c/100),s=0,u=0,p=0,i=0;return s=e*(n/360)*o,p=e+s,e>r&&(u=(e-r)*(a/365)*o),i=p-u,i}function K(e=[],t=[],o,r,c){let n=o,a=0;return e.forEach((s,u)=>{a=P(n,s[3],t[u],r,c),n=a}),n}function O(e=[],t=[],o,r,c){let n=o,a=0,p=e.filter(i=>i[0]==12)[0][3];for(let i=0;i<12;i++)a=P(n,p,t[i],r,c),n=a;return n}
